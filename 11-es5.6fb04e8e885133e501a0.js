!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,i,o){return i&&n(e.prototype,i),o&&n(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"+KPJ":function(n,o,t){"use strict";t.r(o),t.d(o,"ProfilePageModule",(function(){return w}));var r,a,s,c=t("ofXK"),u=t("3Pt+"),l=t("TEn/"),b=t("tyNb"),f=t("XNiG"),d=t("nYR2"),m=t("1G5W"),h=t("mR7G"),v=t("fXoL"),p=t("1Bz9"),L=t("cRds"),k=t("TZpv"),g=[{path:"",component:(r=function(){function n(i,o,t,r,a){e(this,n),this.fb=i,this.router=o,this.userService=t,this.spinnerService=r,this.notificationService=a,this._uns$=new f.a,this.userEmailVal=new u.b("",u.l.compose([u.l.required,u.l.email,u.l.minLength(10)])),this.nickNameVal=new u.b("",u.l.compose([u.l.required]))}return i(n,[{key:"ngOnInit",value:function(){this.createInitialForm()}},{key:"ionViewWillLeave",value:function(){this._uns$.next(),this._uns$.complete()}},{key:"ionViewWillEnter",value:function(){this.loadData()}},{key:"createInitialForm",value:function(){this.userForm=this.fb.group({userEmail:this.userEmailVal,nickName:this.nickNameVal})}},{key:"loadData",value:function(){var e,n;this.user=this.userService.user,this.userForm.controls.userEmail.setValue(this.user.email),this.userForm.controls.nickName.setValue(null===(n=null===(e=this.user)||void 0===e?void 0:e.data)||void 0===n?void 0:n.nomeApelido)}},{key:"save",value:function(){var e=this;this.spinnerService.showLoading("Salvando dados..."),this.userService.update(this.userForm.value.userEmail,this.userForm.value.nickName).pipe(Object(d.a)((function(){e.spinnerService.dismissLoading()})),Object(m.a)(this._uns$)).subscribe((function(n){!0===n?e.goToHome():e.notificationService.showInfo("N\xe3o foi poss\xedvel atualizar as informa\xe7\xf5es","N\xe3o localizamos um registro v\xe1lido ap\xf3s a atualiza\xe7\xe3o. Favor efetue o processo novamente.")}))}},{key:"clear",value:function(){this.userForm.reset()}},{key:"cancel",value:function(){this.createInitialForm(),this.clear(),this.goToHome()}},{key:"goToHome",value:function(){var e=this;this.userService.hasRegions()?this.router.navigateByUrl(h.a.favorite.home):this.router.navigateByUrl(h.a.favorite.create).finally((function(){return e.clear()}))}},{key:"delete",value:function(){var e=this;this.spinnerService.showLoading("Excluindo perfil..."),this.userService.delete().pipe(Object(d.a)((function(){e.spinnerService.dismissLoading()})),Object(m.a)(this._uns$)).subscribe((function(){e.router.navigateByUrl(h.a.login)}))}}]),n}(),r.\u0275fac=function(e){return new(e||r)(v.Hb(u.a),v.Hb(b.g),v.Hb(p.a),v.Hb(L.a),v.Hb(k.a))},r.\u0275cmp=v.Bb({type:r,selectors:[["app-profile"]],decls:39,vars:3,consts:[[3,"translucent"],["color","primary"],["slot","start"],["size","12"],["novalidate","",3,"formGroup"],["position","floating"],["formControlName","userEmail","type","text"],["formControlName","nickName","type","text"],["expand","block",3,"disabled","click"],["size","12","sizeSm","8"],["color","light","expand","block",3,"click"],["size","12","sizeSm","4"],["color","danger","expand","block",3,"click"]],template:function(e,n){1&e&&(v.Mb(0,"ion-header",0),v.Mb(1,"ion-toolbar",1),v.Mb(2,"ion-buttons",2),v.Ib(3,"ion-menu-button"),v.Lb(),v.Mb(4,"ion-title"),v.mc(5,"Perfil"),v.Lb(),v.Lb(),v.Lb(),v.Mb(6,"ion-content"),v.Mb(7,"ion-grid"),v.Mb(8,"ion-row"),v.Mb(9,"ion-col",3),v.Mb(10,"ion-card"),v.Mb(11,"ion-card-header"),v.Mb(12,"h2"),v.mc(13,"Seus dados no RadarCovid"),v.Lb(),v.Lb(),v.Mb(14,"ion-card-content"),v.Mb(15,"form",4),v.Mb(16,"ion-item"),v.Mb(17,"ion-label",5),v.mc(18,"E-mail"),v.Lb(),v.Ib(19,"ion-input",6),v.Lb(),v.Mb(20,"ion-item"),v.Mb(21,"ion-label",5),v.mc(22,"Apelido/Nome"),v.Lb(),v.Ib(23,"ion-input",7),v.Lb(),v.Lb(),v.Lb(),v.Mb(24,"ion-row"),v.Mb(25,"ion-col",3),v.Mb(26,"ion-button",8),v.Ub("click",(function(){return n.save()})),v.mc(27," Salvar "),v.Lb(),v.Lb(),v.Lb(),v.Mb(28,"ion-row"),v.Mb(29,"ion-col",9),v.Mb(30,"ion-button",10),v.Ub("click",(function(){return n.clear()})),v.mc(31," Limpar "),v.Lb(),v.Lb(),v.Mb(32,"ion-col",11),v.Mb(33,"ion-button",10),v.Ub("click",(function(){return n.cancel()})),v.mc(34," Cancelar "),v.Lb(),v.Lb(),v.Lb(),v.Mb(35,"ion-row"),v.Mb(36,"ion-col",3),v.Mb(37,"ion-button",12),v.Ub("click",(function(){return n.delete()})),v.mc(38," Excluir meus dados do RadarCovid "),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Lb()),2&e&&(v.bc("translucent",!0),v.xb(15),v.bc("formGroup",n.userForm),v.xb(11),v.bc("disabled",n.userForm.invalid))},directives:[l.o,l.I,l.c,l.z,l.H,l.j,l.n,l.D,l.i,l.d,l.f,l.e,u.m,u.i,u.d,l.t,l.w,l.s,l.R,u.h,u.c,l.b],styles:[""]}),r)}],y=((s=function n(){e(this,n)}).\u0275mod=v.Fb({type:s}),s.\u0275inj=v.Eb({factory:function(e){return new(e||s)},imports:[[b.i.forChild(g)],b.i]}),s),w=((a=function n(){e(this,n)}).\u0275mod=v.Fb({type:a}),a.\u0275inj=v.Eb({factory:function(e){return new(e||a)},imports:[[c.b,u.e,u.k,l.K,y]]}),a)},TZpv:function(n,o,t){"use strict";t.d(o,"a",(function(){return c}));var r=t("mrSG"),a=t("fXoL"),s=t("TEn/"),c=function(){var n=function(){function n(i){e(this,n),this.toastCtrl=i}return i(n,[{key:"showInfo",value:function(e,n){this.presentToast("".concat(e,"\n").concat(n))}},{key:"showError",value:function(e,n){this.presentToast("Erro: ".concat(e,"\n").concat(n))}},{key:"presentToast",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.toastCtrl.create({message:e,duration:4e3});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n,this)})))}}]),n}();return n.\u0275fac=function(e){return new(e||n)(a.Qb(s.S))},n.\u0275prov=a.Db({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},cRds:function(n,o,t){"use strict";t.d(o,"a",(function(){return s}));var r=t("fXoL"),a=t("TEn/"),s=function(){var n=function(){function n(i){e(this,n),this.loading=i,this.loaderLoading=!1}return i(n,[{key:"showLoading",value:function(e){var n=this;this.loaderLoading=!0,this.loading.create({message:e,showBackdrop:!0}).then((function(e){n.loader=e,e.present().then((function(){n.loaderLoading=!1}))}))}},{key:"dismissLoading",value:function(){var e=this,n=setInterval((function(){e.loader||!e.loaderLoading?e.loader.dismiss().then((function(){e.loader=null,clearInterval(n)})):e.loader||e.loaderLoading||clearInterval(n)}),100)}}]),n}();return n.\u0275fac=function(e){return new(e||n)(r.Qb(a.M))},n.\u0275prov=r.Db({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()}}])}();